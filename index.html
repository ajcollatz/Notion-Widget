<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AJ Widget</title>

  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Work Sans', sans-serif;
      background: transparent;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      color: #373530;
    }

    .widget {
      display: flex;
      align-items: center;
      gap: 20px;
      background: transparent; /* stays transparent */
      border-radius: 12px;
      padding: 24px 28px;
      max-width: 520px;
      width: 92vw;
      border: 1px solid rgba(0,0,0,0.08);
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }

    .avatar {
      font-size: 40px;
      flex-shrink: 0;
    }

    .text {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .greeting {
      font-weight: 700;
      font-size: 28px;
      line-height: 1.2;
    }

    .date-line {
      font-size: 18px; /* bigger subtext */
      font-weight: 400;
      line-height: 1.4;
    }

    .affirmation {
      font-size: 15px; /* bigger subtext */
      font-weight: 500;
      line-height: 1.4;
    }
  </style>
</head>

<body>
  <div class="widget">
    <div class="avatar" id="avatar">ðŸŒ‡</div>

    <div class="text">
      <div class="greeting" id="greeting"></div>
      <div class="date-line" id="dateLine"></div>
      <div class="affirmation" id="affirmation"></div>
    </div>
  </div>

  <script>
    (function () {
      const name = "AJ!";
      const timeZone = "America/New_York";

      const affirmations = [
        "You are capable of amazing things.",
        "You deserve peace and clarity today.",
        "Your presence makes a difference.",
        "You are growing in the right direction.",
        "You have everything you need within you.",
        "You are allowed to take up space.",
        "You are doing better than you think.",
        "Today is full of possibilities for you.",
        "You radiate creativity and purpose.",
        "You can handle whatever today brings."
      ];

      const greetingEl = document.getElementById("greeting");
      const dateLineEl = document.getElementById("dateLine");
      const affirmationEl = document.getElementById("affirmation");
      const avatarEl = document.getElementById("avatar");

      function getETHour(date) {
        return Number(
          new Intl.DateTimeFormat("en-US", {
            timeZone,
            hour: "numeric",
            hour12: false
          }).format(date)
        );
      }

      function formatWithOrdinal(n) {
        if (n >= 11 && n <= 13) return `${n}th`;
        switch (n % 10) {
          case 1: return `${n}st`;
          case 2: return `${n}nd`;
          case 3: return `${n}rd`;
          default: return `${n}th`;
        }
      }

      function formatFullDateET(date) {
        const parts = new Intl.DateTimeFormat("en-US", {
          timeZone,
          month: "long",
          day: "numeric",
          year: "numeric"
        }).formatToParts(date);

        let month, day, year;
        for (const p of parts) {
          if (p.type === "month") month = p.value;
          if (p.type === "day") day = Number(p.value);
          if (p.type === "year") year = p.value;
        }

        return `Today is ${month} ${formatWithOrdinal(day)}, ${year}`;
      }

      function getDailyAffirmation(date) {
        const index = Math.floor(date.getTime() / 86400000);
        return `Today's Reminder ðŸƒ: ${
          affirmations[index % affirmations.length]
        }`;
      }

      function update() {
        const now = new Date();
        const hourET = getETHour(now);

        let greetingText, avatarEmoji;

        if (hourET < 12) {
          greetingText = "Good morning";
          avatarEmoji = "ðŸŒ…";
        } else if (hourET < 17) {
          greetingText = "Good afternoon";
          avatarEmoji = "ðŸŒž";
        } else {
          greetingText = "Good evening";
          avatarEmoji = "ðŸŒ‡";
        }

        greetingEl.textContent = `${greetingText}, ${name}`;
        dateLineEl.textContent = formatFullDateET(now);
        affirmationEl.textContent = getDailyAffirmation(now);
        avatarEl.textContent = avatarEmoji;
      }

      update();
      setInterval(update, 60000);
    })();
  </script>
</body>
</html>
